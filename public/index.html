<!doctype html>
<html lang="ko">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Welcome</title>
	<style>
		body { font-family: Arial, sans-serif; margin: 40px; }
		.container { max-width: 560px; margin: 0 auto; }
		h1 { color: #2c3e50; }
		.header { display: flex; justify-content: space-between; align-items: center; }
		button { padding: 8px 14px; cursor: pointer; }
		.card { background: #f7f9fb; padding: 16px; border-radius: 8px; margin-top: 16px; }
	</style>
</head>
<body>
	<div class="container">
		<div class="header">
			<h1>Welcome  🎉</h1>
			<button id="logoutBtn">로그아웃</button>
		</div>
		<div class="card">
			<p>로그인에 성공했습니다. </p>
			<p>접속한 ID: <strong id="userId"></strong></p>
			<p>제출자: <strong>Junsoo Park (2023204090)</strong></p>
			<p><a href="/chat" style="color: #2563eb; text-decoration: none; font-weight: bold;">💬 채팅방으로 이동</a></p>
		</div>
	</div>
	<script src="/front.js"></script>
	<script>
		window.addEventListener('DOMContentLoaded', async () => {
			console.log('DOMContentLoaded');
			
			const me = await window.api.me();
			if (!me.authenticated) {
				location.href = '/login.html';
				return;
			}
			console.log('me', me);
			document.getElementById('userId').textContent = me.user;
			document.getElementById('logoutBtn').addEventListener('click', async () => {
				await window.api.logout();
				location.href = '/login.html';
			});
				
		});
	</script>
</body>
</html>
